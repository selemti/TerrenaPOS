:root{
  --bg-main:#EAEAEA;
  --green-dark:#234330;
  --green-darker:#1E3A2A;
  --orange:#E97A3A;
  --gold:#D2B464;
  --text-dark:#333;
  --text-light:#FFF;
}

/* ====== Layout base con footer sticky en todas las páginas ====== */
html,body{height:100%}
body{
  font-family:'Montserrat','Segoe UI',Arial,sans-serif;
  background:var(--bg-main); color:var(--text-dark);
  margin:0;
}

.container-fluid{ min-height:100svh; display:flex; padding:0; }

/* ===== Sidebar ===== */
.sidebar{
  /*width:280px; flex:0 0 280px;*/
  background:var(--green-darker); color:#fff;
  padding:1.25rem 1rem;
  transition:width .25s ease, transform .3s ease;
}

/* Marca / logo centrado y separador */
.brand{ display:flex; align-items:center; justify-content:center; padding:.5rem 0 1rem; }
.brand-logo{ height:38px; width:auto; display:block; }
.brand-separator{ height:1px; background:rgba(255,255,255,.12); margin:.5rem 0 1rem; }

.sidebar .nav-link{
  color:rgba(255,255,255,.92);
  font-weight:600; padding:.65rem .9rem; border-radius:.5rem;
  display:flex; gap:.65rem; align-items:center; white-space:nowrap;
}
.sidebar .nav-link:hover,.sidebar .nav-link.active{ background:var(--orange); color:#fff; }
.sidebar .label{ display:inline; }

/* Collapse desktop */
@media (min-width:992px){
  .sidebar.collapsed{ width:84px; }
  .sidebar.collapsed .label{ display:none; }
  .sidebar.collapsed .nav-link{ justify-content:center; }
  .sidebar.collapsed .brand-logo{ height:30px; } /* logo mini */
}

/* Off-canvas móvil */
@media (max-width:992px){
  .sidebar{
    position:fixed; inset:0 auto 0 0; height:100svh; transform:translateX(-100%);
    z-index:1050; padding-top:1rem;
  }
  .sidebar.show{ transform:translateX(0); }
}

/* ===== Main ===== */
.main-content{
  flex:1 1 auto; min-width:0; background:var(--bg-main);
  display:flex; flex-direction:column;
}

/* Topbar */
.top-bar{
  background:#fff; padding:1rem 1.5rem; margin-bottom:1rem;
  box-shadow:0 2px 10px rgba(0,0,0,.05);
  display:flex; justify-content:space-between; align-items:center;
}
.top-bar-title{ font-family:'Anton',sans-serif; font-size:2rem; color:var(--green-dark); margin:0; }
.user-profile-icon{ width:34px;height:34px;border-radius:50%;background:var(--orange);color:#fff;display:flex;align-items:center;justify-content:center }

/* Contenido */
.dashboard-grid, .page{ padding:0 1.5rem 1.5rem; flex:1 0 auto; }

/* Footer / barra de estado */
.status-bar{
  position:sticky; bottom:0; z-index:100; background:#fff;
  border-top:1px solid #e7e7e7;
}
.container-status{ padding:.5rem 1.5rem; display:flex; gap:1rem; align-items:center; flex-wrap:wrap; }

/* ===== Widgets ===== */
.filters-bar{
  background:#fff; padding:1rem; border-radius:1rem;
  box-shadow:0 2px 10px rgba(0,0,0,.05);
  display:flex; gap:1rem; flex-wrap:wrap; align-items:center;
}

.btn-filter{ background:var(--green-dark); color:#fff; border:none; border-radius:.5rem; padding:.5rem 1rem; }
.btn-filter:hover{ background:var(--orange); }

/* Cards */
.card-vo,.card-kpi,.card-alerts,.chart-container{
  background:#fff; border-radius:1rem; padding:1.25rem;
  box-shadow:0 4px 15px rgba(0,0,0,.05); border-left:4px solid var(--orange);
}
.card-title{ font-weight:700; color:var(--green-dark); display:flex; gap:.5rem; align-items:center; }

/* KPI: 5 columnas en desktop */
.kpi-grid{
  display:grid; gap:12px;
  grid-template-columns: repeat(5, minmax(180px,1fr));
}
@media (max-width:1400px){ .kpi-grid{ grid-template-columns: repeat(4,minmax(180px,1fr)); } }
@media (max-width:1200px){ .kpi-grid{ grid-template-columns: repeat(3,minmax(180px,1fr)); } }
@media (max-width:992px) { .kpi-grid{ grid-template-columns: repeat(2,minmax(180px,1fr)); } }
@media (max-width:576px){ .kpi-grid{ grid-template-columns: 1fr; } }

.card-kpi{ height:180px; display:flex; flex-direction:column; justify-content:center; text-align:center; }
.card-kpi .badge{ align-self:center; }

.chart-container .link-more,
.card-vo .link-more{ text-decoration:none; font-weight:600; }
.link-more i{ transition:.2s transform; }
.link-more:hover i{ transform: translateX(3px); }

.chart-wrapper{ position:relative; height:300px; }

/* Listas */
#activity-list li{
  display:flex; gap:.6rem; align-items:center; padding:.45rem 0; border-bottom:1px dashed #eee;
}
#activity-list li:last-child{ border-bottom:0; }
#activity-list .timeago{ margin-left:auto; color:#6c757d; font-size:.85rem; }

/* Tablas */
.table-responsive{ border-radius:.5rem; }
.table-sm th,.table-sm td{ vertical-align:middle; }

/* Dropdown alertas del header */
#hdr-alerts-list .hdr-alert{
  display:flex; align-items:flex-start; gap:.6rem; padding:.5rem 1rem;
  text-decoration:none; color:inherit;
}
#hdr-alerts-list .hdr-alert:hover{ background:#f5f6f7; }
#hdr-alerts-list .hdr-alert .timeago{ margin-left:auto; color:#6c757d; font-size:.85rem; }

/* Ocultar reloj/fecha en móvil (ya se muestran en footer al tener espacio) */
@media (max-width: 992px){
  #live-clock, #live-clock-bottom, #live-date { display:none !important; }
}
@media (max-width:992px){
  .sidebar.show{
    transform:translateX(0);
  }
}
/* Sidebar en móvil: por defecto, estará oculto fuera de la pantalla */
@media (max-width: 992px) {
  .sidebar {
    position: fixed;
    top: 0;
    left: 0;
    z-index: 1050; /* Z-index alto para estar encima del resto del contenido */
    transform: translateX(-100%);
  }

  /* Cuando se le agrega la clase 'show', se mueve a la pantalla */
  .sidebar.show {
    transform: translateX(0);
  }
}
/* Sidebar inicial */
.sidebar {
  width: 280px;
  /*flex: 0 0 280px;*/
  background: var(--green-darker);
  color: #fff;
  padding: 1.25rem 1rem;
  transition: width 0.25s ease, transform 0.3s ease;
  text-align: center;
  
}

/* Estado Colapsado */
body.collapsed .sidebar {
  width: 90px;
  flex: 0 0 90px !important;
}

body.collapsed .sidebar .brand-separator,
body.collapsed .sidebar-nav span {
  opacity: 0;
  transition: opacity 0.25s ease;
}

/* Logo en estado colapsado (usando media query) */
body.collapsed .sidebar .logo-brand img {
  content: url("../img/logo2.svg"); /* Asegúrate de que esta ruta sea correcta */
}

/* Sidebar para móvil (off-canvas) */
@media (max-width: 991.98px) {
  .sidebar {
    position: fixed;
    top: 0;
    left: 0;
    z-index: 1050;
    transform: translateX(-100%);
    width: 280px;
	text-align:center;
  }
  .sidebar.show {
    transform: translateX(0);
  }
  body.collapsed .sidebar .logo-brand img {
    content: url("../img/logo.svg"); /* Vuelve al logo original en móvil */
  }
}

.btn-filter {
	min-width:110px;
}

.card-kpi {
  height: 180px;
  display: flex;
  flex-direction: column;
  justify-content: space-between; /* Distribuye el espacio verticalmente */
  text-align: center;
  padding: 1rem;
}
.card-kpi .card-title {
  /*margin-bottom: 0;*/
  margin: 0 auto;
}
.card-kpi .kpi-content {
  display: flex;
  flex-direction: column;
  justify-content: center;
  flex-grow: 1; /* Permite que el contenido del KPI ocupe el espacio restante */
}
.kpi-value {
	font-family: 'Anton', sans-serif;
    font-size: 2.8rem;
    color: var(--orange);
    line-height: 1;
    font-weight: 600;
}
.card-kpi .text-muted.small {
  /*margin-top: auto;  Empuja el texto hacia abajo */
}
/* Ajusta el logo y el botón en estado colapsado */
body.collapsed .logo-brand {
    /* Mueve los elementos a una columna */
    flex-direction: column;
    /* Centra los elementos */
    align-items: center;
    /* Espacio entre el logo y el botón */
    gap: 1.5rem;
}

#sidebarCollapse{
	margin: 0px !important;
}
/* Widget de Estatus de Cajas (cards grid) */
.cajas-grid { display:grid; grid-template-columns: repeat( auto-fit, minmax(260px, 1fr) ); gap:1rem; }
.caja-card{
  background:#fff; border-radius:12px; padding:1rem; border-left:4px solid #E97A3A;
  box-shadow:0 4px 15px rgba(0,0,0,.05);
}
.caja-card .title { font-weight:700; color:#234330; }
.caja-card .chip { padding:.15rem .5rem; border-radius:999px; font-size:.8rem; }
.caja-card .chip.open { background:#d1e7dd; color:#0f5132; }
.caja-card .chip.closed{ background:#e2e3e5; color:#41464b; }